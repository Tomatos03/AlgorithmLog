# [2112C - Coloring Game](https://codeforces.com/problemset/problem/2112/C)

## 解题思路

1. 对于$Bob$只有两种选择: 
   + 第一种: 选择数组中的最大值
   + 第二种: 选择$Alice$选择的数中最大的那个数

2. 对于$Bob$的两种选择有如下表达式:
   $$
   \begin{aligned}
   	& a[i] + a[j] + a[k] > a[n]  &\ ①\\
   	& a[i] + a[j] > a[k]         &\ ②\\
   	结合①和②有:\\
   	&a[n] - (a[i] + a[j]) < a[k] < a[i] + a[j]
   \end{aligned}
   $$
   
3. 对于每一个选择对$(i, j)$, 对答案的贡献为满足$2$中表达式的区间长度

```cpp
#include <bits/stdc++.h>
using namespace std;

#define endl '\n'
#define rep(i, a, b) for (int i = a; i <= b; ++i)
#define erp(i, a, b) for (int i = a; i >= b; --i)

using i64 = long long;
using i32 = int;
using pii = pair<int, int>;
using pll = pair<i64, i64>;

const int mod = 1000000007, mod0 = 998244353;

void solve() {
    i32 n;
    cin >> n;

    vector<i32> a(n + 1);
    rep (i, 1, n)
        cin >> a[i];
    
    i64 cnt = 0;
    rep (i, 1, n) {
        rep (j, i + 1, n) {
            i32 sum = a[i] + a[j];

            i32 l = upper_bound(a.begin() + j + 1, a.end(), a[n] - sum) - a.begin();
            i32 r = lower_bound(a.begin() + j + 1, a.end(), sum) - a.begin() - 1;

            cnt += max(r - l + 1, 0);
        }
    }

    cout << cnt << endl;
}

int main() {
    ios::sync_with_stdio(0);
    cin.tie(0);
    cout.tie(0);
    int t;
    cin >> t;
    while (t-- > 0)
        solve();
    return 0;
}
```

