# [1780. 判断一个数字是否可以表示成三的幂的和](https://leetcode.cn/problems/check-if-number-is-a-sum-of-powers-of-three/)

## 解题思路

+ 方法一

1. 当选定了一个$3$的幂即$3^x$, 问题可以转化为是否可能使用除了$3^x$以外的数组成$n - 3^x$
2. 只需要计算一次$10^7$之中所有的可能的情况

+ 方法二

1. 与进制转换算法一样, 但要保证不存在重复的数(幂不相同), 需要保证权对应的数位都是$1$, 即算法每轮计算得到的余数要保证都是$1$

```cpp
using i32 = int;
using i64 = long long;
using pii = pair<int, int>;
using pll = pair<i64, i64>;
const int mod = 1000000007, mod0 = 998244353;

class Solution {
    static constexpr int MAX_N = 1e7;
    static vector<bool> dp;

    struct Initializer {
        Initializer() {
            dp.assign(MAX_N + 1, false);
            dp[0] = true;
            vector<i32> powers;
            i32 cur = 1;
            while (cur <= MAX_N) {
                powers.push_back(cur);
                if (cur > MAX_N / 3) break;
                cur *= 3;
            }
            for (i32 c_v : powers) {
                for (int j = MAX_N; j >= c_v; --j) {
                    dp[j] = dp[j] | dp[j - c_v];
                }
            }
        }
    };
    static Initializer initializer;
public:
    bool checkPowersOfThree(int n) {
        return dp[n];
    }
};

// 静态成员变量定义
vector<bool> Solution::dp;
Solution::Initializer Solution::initializer;
```

```cpp
class Solution {
public:
    bool checkPowersOfThree(int n) {
        while (n) {
            if (n % 3 == 2)
                return false;
            n /= 3;
        }
        return true;
    }
};
```

