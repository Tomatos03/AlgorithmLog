# [1733. 需要教语言的最少人数](https://leetcode.cn/problems/minimum-number-of-people-to-teach/)

## 解题思路

1. 整理已有信息, 预处理出数组$b[i][j]$表示第$i$个人是否会第$j$种语言, 以及$c[i][j]$数组表示第$i$个人是否能够与第$j$个人沟通
2. 好友之间没有传递关系, 并且只能够选择一门语言, 这个时候可以考虑直接去枚举选择的语言, 然后计算需要教会的最少人数. 想要人数达到最少, 已经能够沟通的好友不需要教.


## 参考代码

+ 时间复杂度$O(nm + nlen(friendships))$,其中$len(friendships)$表示$friendships$数组的长度


```cpp
using i32 = int;
using i64 = long long;
using pii = pair<int, int>;
using pll = pair<i64, i64>;
using tdii = tuple<double, int, int>;
const int mod = 1000000007, mod0 = 998244353;
class Solution {
    bool is_communication(int n, int x, int y, vector<vector<bool>> &b) {
        for (int i = 1; i <= n; ++i) {
            if (b[x][i] == true && b[y][i] == true)
                return true;
        }
        return false;
    }
public:
    int minimumTeachings(int n, vector<vector<int>>& languages, vector<vector<int>>& friendships) {
        int m = languages.size();
        vector<vector<bool>> b(m + 1, vector<bool>(n + 1));
        for (int i = 0; i < m; ++i) {
            int k = languages[i].size();
            for (int j = 0; j < k; ++j) {
                b[i + 1][languages[i][j]] = true;
            }
        }

        set<pii> st;
        for (vector<int> &uv : friendships) {
            int u = uv[0], v = uv[1];
            if (is_communication(n, u, v, b))
                st.insert({u, v});
        }


        int ans = INT_MAX;
        for (int i = 1; i <= n; ++i) {
            int cnt = 0;
            for (vector<int> &uv : friendships) {
                int u = uv[0], v = uv[1];

                if (st.count({u, v}))
                    continue;

                if (b[u][i] == false) {
                    b[u][i] = true;
                    ++cnt;
                }

                if (b[v][i] == false) {
                    b[v][i] = true;
                    ++cnt;
                }
            }
            ans = min(ans, cnt);
        }
        return ans;
    }
};

```
