# [2419. 按位与最大的最长子数组](https://leetcode.cn/problems/longest-subarray-with-maximum-bitwise-and/)

## 解题思路

1. 注意到与运算的数越多数可能越小(不可能变大), 所以与运算的最大值总是数组之中最大数$mx$
1. 由$1$可以将题目转换为求解相邻且相同,值等于$mx$的最长子数组的长度

```cpp
using i32 = int;
using pis = pair<i32, string>;
class Solution {
public:
    int longestSubarray(vector<int>& nums) {
        i32 n = nums.size(), mx = -1;
        for (int &v : nums)
            mx = max(mx, v);
        i32 cnt = 0;
        for (int i = 0; i < n; ++i) {
            if (nums[i] != mx)
                continue;

            int j = i;
            while (i + 1 < n && nums[i + 1] == nums[j])
                ++i;
            cnt = max(cnt, i - j + 1);
        }
        return cnt;
    }
};
        
```