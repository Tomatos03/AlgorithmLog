# [2197. 替换数组中的非互质数](https://leetcode.cn/problems/replace-non-coprime-numbers-in-array/)

## 解题思路

1. 多个数的$lcm$存在一个性质: $lcm(a,b, c) = lcm(lcm(a, b), c) = lcm(a, lcm(b, c))$, 从公式之中可以看出运算的结果和运算的顺序无关

2. 运算的结果与顺序无关, 总是优先合并到最左边. 按照我们的策略合并 $a_0a_1a_2b_0b_1 \rightarrow ab$, 存在一种情况$a$和$b$依旧能够存在最大公因数, 依旧需要进行合并, 可以使用栈来解决这个问题 

##  参考代码


```cpp
using i32 = int;
using i64 = long long;
using pii = pair<int, int>;
using pll = pair<i64, i64>;
using tdii = tuple<double, int, int>;
const int mod = 1000000007, mod0 = 998244353;
class Solution {
public:
    vector<int> replaceNonCoprimes(vector<int>& nums) {
        vector<int> st;
        int i = 0, n =  nums.size();
        while (i < n) {
            while (!st.empty() && gcd(st.back(), nums[i]) > 1) {
                nums[i] = lcm(nums[i], st.back());
                st.pop_back();
            }
            st.push_back(nums[i]);
            ++i;
        }
        return st;
    }
};

```
